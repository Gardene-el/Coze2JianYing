# UI Mock-up: Before and After Comparison

## Before Changes

```
┌─────────────────────────────────────────────────────────────────────┐
│ Coze剪映草稿生成器                                           [_][□][X] │
├─────────────────────────────────────────────────────────────────────┤
│ 文件(F)  查看(V)  帮助(H)                                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─ 输出设置 ─────────────────────────────────────────────────────┐ │
│  │ 剪映草稿文件夹: [未选择（将使用默认路径）              ]          │ │
│  │                 [选择文件夹...] [自动检测]                      │ │
│  └────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  输入内容:                                                           │
│  ┌────────────────────────────────────────────────────────────────┐ │
│  │                                                                 │ │
│  │  (JSON 输入区域)                                                 │ │
│  │                                                                 │ │
│  │                                                                 │ │
│  └────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  [生成草稿] [清空] [隐藏日志]                                         │
│                                                                     │
│  状态: 就绪                                                          │
├─────────────────────────────────────────────────────────────────────┤
│  ┌─ 日志 ────────────────────────────────────────────────────────┐  │
│  │ [清空] [保存] ☑ 自动滚动                                        │  │
│  │ ┌──────────────────────────────────────────────────────────┐ │  │
│  │ │ 日志输出...                                               │ │  │
│  │ └──────────────────────────────────────────────────────────┘ │  │
│  └────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘
```

## After Changes (New Button Added)

```
┌─────────────────────────────────────────────────────────────────────┐
│ Coze剪映草稿生成器                                           [_][□][X] │
├─────────────────────────────────────────────────────────────────────┤
│ 文件(F)  查看(V)  帮助(H)                                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─ 输出设置 ─────────────────────────────────────────────────────┐ │
│  │ 剪映草稿文件夹: [未选择（将使用默认路径）              ]          │ │
│  │                 [选择文件夹...] [自动检测]                      │ │
│  └────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  输入内容:                                                           │
│  ┌────────────────────────────────────────────────────────────────┐ │
│  │                                                                 │ │
│  │  (JSON 输入区域)                                                 │ │
│  │                                                                 │ │
│  │                                                                 │ │
│  └────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  [生成草稿] [生成元信息] [清空] [隐藏日志]    👈 NEW BUTTON!         │
│             ^^^^^^^^^^^^                                            │
│                                                                     │
│  状态: 就绪                                                          │
├─────────────────────────────────────────────────────────────────────┤
│  ┌─ 日志 ────────────────────────────────────────────────────────┐  │
│  │ [清空] [保存] ☑ 自动滚动                                        │  │
│  │ ┌──────────────────────────────────────────────────────────┐ │  │
│  │ │ 日志输出...                                               │ │  │
│  │ └──────────────────────────────────────────────────────────┘ │  │
│  └────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘
```

## New Button Behavior

### When Clicked:
1. **Validation Phase**
   ```
   ┌─ 验证 ─────────────────────────────┐
   │ • 检查是否选择了文件夹               │
   │ • 如未选择，尝试自动检测              │
   │ • 验证文件夹存在且可访问              │
   └────────────────────────────────────┘
   ```

2. **Confirmation Dialog**
   ```
   ┌─ 确认生成 ─────────────────────────┐
   │                                    │
   │  将在以下文件夹生成                  │
   │  root_meta_info.json:              │
   │                                    │
   │  C:\Users\...\com.lveditor.draft   │
   │                                    │
   │  是否继续？                          │
   │                                    │
   │         [是(Y)]  [否(N)]            │
   └────────────────────────────────────┘
   ```

3. **Processing** (Button disabled, status updated)
   ```
   状态: 正在生成元信息...
   
   日志面板显示:
   ──────────────────────────────────────
   开始生成元信息文件
   目标文件夹: C:\Users\...\com.lveditor.draft
   开始扫描草稿文件夹: C:\Users\...\com.lveditor.draft
     ✅ 找到草稿: draft_001
     ✅ 找到草稿: draft_002
   扫描完成，共找到 2 个有效草稿
   ✅ root_meta_info.json 已保存到: C:\...\root_meta_info.json
   元信息文件生成成功
   ──────────────────────────────────────
   ```

4. **Success Dialog**
   ```
   ┌─ 成功 ─────────────────────────────┐
   │                                    │
   │  元信息文件已生成:                   │
   │                                    │
   │  C:\Users\...\com.lveditor.draft\  │
   │  root_meta_info.json               │
   │                                    │
   │            [确定]                   │
   └────────────────────────────────────┘
   ```

## Key Difference from "生成草稿" Button

| Feature | 生成草稿 | 生成元信息 |
|---------|---------|-----------|
| **Input Required** | Yes (JSON content) | No |
| **What it Does** | Creates draft folders with content | Scans existing drafts and creates metadata |
| **When to Use** | After getting output from Coze | After drafts are created or modified |
| **Output** | Draft folders + files | root_meta_info.json |
| **Dependencies** | Needs valid JSON input | Needs existing draft folders |

## Use Cases for "生成元信息" Button

1. **After Manual Draft Modification**: If user manually adds/removes drafts in the folder
2. **Refresh Metadata**: Update metadata after importing external drafts
3. **Separate Workflow**: Generate drafts first, then metadata later
4. **Troubleshooting**: Regenerate metadata if it becomes corrupted
5. **Batch Processing**: Generate metadata for multiple draft folders independently
